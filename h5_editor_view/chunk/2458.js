"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[2458],{"2458":function(e,n,t){t.r(n),t.d(n,{"default":function(){return N}});var i=t(4864),o=t(9439),l=t(7294),r=t(1413);function _objectWithoutProperties(e,n){if(null==e)return{};var t,i,o=function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=function SmileFill(e){return l.createElement("svg",Object.assign({"width":"1em","height":"1em","viewBox":"0 0 48 48","xmlns":"http://www.w3.org/2000/svg","xmlnsXlink":"http://www.w3.org/1999/xlink"},e,{"style":Object.assign({"verticalAlign":"-0.125em"},e.style),"className":["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),l.createElement("g",{"id":"SmileFill-SmileFill","stroke":"none","strokeWidth":1,"fill":"none","fillRule":"evenodd"},l.createElement("g",{"id":"SmileFill-编组"},l.createElement("rect",{"id":"SmileFill-矩形","fill":"#FFFFFF","opacity":0,"x":0,"y":0,"width":48,"height":48}),l.createElement("path",{"d":"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M14.4138242,26.4498883 C14.2935421,26.3669063 14.1287685,26.3971688 14.0458046,26.5174634 C14.0254953,26.5469111 14.0114748,26.5800114 14.0043844,26.614705 L14.0043844,26.614705 L13.9990265,26.6676828 L13.9993289,29.4999385 L14.0084876,29.5847655 C14.0324862,29.694987 14.102366,29.7915075 14.2029223,29.848206 C14.3093075,29.9081912 14.3953412,29.9560382 14.4610235,29.991747 C17.296255,31.5331498 20.5458697,32.408785 24,32.408785 C27.4189364,32.408785 30.6375036,31.5509024 33.4521837,30.0386552 C33.537965,29.9925674 33.6527935,29.9290566 33.7966693,29.8481229 C33.9226882,29.7773677 34.0006492,29.6440904 34.0006746,29.4995669 L34.0006746,29.4995669 L34.0009735,26.7720486 L33.9925444,26.6987463 C33.9594351,26.5575146 33.8326582,26.4523573 33.6813205,26.4523573 C33.6388099,26.4523573 33.5969468,26.4608325 33.5581039,26.4770566 L33.5581039,26.4770566 L33.5024013,26.5071138 L33.1604298,26.732121 C30.5167402,28.4263949 27.3730948,29.408785 24,29.408785 C20.4793419,29.408785 17.208648,28.3385613 14.4955018,26.5056975 C14.4708829,26.4890663 14.4436571,26.4704632 14.4138242,26.4498883 Z M16,18 C14.8954305,18 14,18.8954305 14,20 C14,21.1045695 14.8954305,22 16,22 C17.1045695,22 18,21.1045695 18,20 C18,18.8954305 17.1045695,18 16,18 Z M32,18 C30.8954305,18 30,18.8954305 30,20 C30,21.1045695 30.8954305,22 32,22 C33.1045695,22 34,21.1045695 34,20 C34,18.8954305 33.1045695,18 32,18 Z","id":"SmileFill-形状结合","fill":"currentColor","fillRule":"nonzero"}))))};var a=function SmileOutline(e){return l.createElement("svg",Object.assign({"width":"1em","height":"1em","viewBox":"0 0 48 48","xmlns":"http://www.w3.org/2000/svg","xmlnsXlink":"http://www.w3.org/1999/xlink"},e,{"style":Object.assign({"verticalAlign":"-0.125em"},e.style),"className":["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),l.createElement("g",{"id":"SmileOutline-SmileOutline","stroke":"none","strokeWidth":1,"fill":"none","fillRule":"evenodd"},l.createElement("g",{"id":"SmileOutline-编组"},l.createElement("rect",{"id":"SmileOutline-矩形","fill":"#FFFFFF","opacity":0,"x":0,"y":0,"width":48,"height":48}),l.createElement("path",{"d":"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M24,5 C13.5065898,5 5,13.5065898 5,24 C5,34.4934102 13.5065898,43 24,43 C34.4934102,43 43,34.4934102 43,24 C43,13.5065898 34.4934102,5 24,5 Z M14.0458046,26.5174634 C14.1287685,26.3971688 14.2935421,26.3669063 14.4138242,26.4498883 C14.4436571,26.4704632 14.4708829,26.4890663 14.4955018,26.5056975 C17.208648,28.3385613 20.4793419,29.408785 24,29.408785 C27.5197511,29.408785 30.7896669,28.3391126 33.5024013,26.5071138 L33.5024013,26.5071138 L33.5581039,26.4770566 C33.5969468,26.4608325 33.6388099,26.4523573 33.6813205,26.4523573 C33.8578812,26.4523573 34.0010118,26.595488 34.0009735,26.7720486 L34.0009735,26.7720486 L34.0006746,29.4995669 C34.0006492,29.6440904 33.9226882,29.7773677 33.7966693,29.8481229 C33.6527935,29.9290566 33.537965,29.9925674 33.4521837,30.0386552 C30.6375036,31.5509024 27.4189364,32.408785 24,32.408785 C20.5458697,32.408785 17.296255,31.5331498 14.4610235,29.991747 C14.3953412,29.9560382 14.3093075,29.9081912 14.2029223,29.848206 C14.0772269,29.7773329 13.9994637,29.6442379 13.9993289,29.4999385 L13.9993289,29.4999385 L13.9990265,26.6676828 L13.9990265,26.6676828 L14.0043844,26.614705 C14.0114748,26.5800114 14.0254953,26.5469111 14.0458046,26.5174634 Z M16,18 C17.1045695,18 18,18.8954305 18,20 C18,21.1045695 17.1045695,22 16,22 C14.8954305,22 14,21.1045695 14,20 C14,18.8954305 14.8954305,18 16,18 Z M32,18 C33.1045695,18 34,18.8954305 34,20 C34,21.1045695 33.1045695,22 32,22 C30.8954305,22 30,21.1045695 30,20 C30,18.8954305 30.8954305,18 32,18 Z","id":"SmileOutline-形状结合","fill":"currentColor","fillRule":"nonzero"}))))},c=t(5893);function EmojiViewer(e){var n=e.className,t=e.onEmojiClick,i=e.emojiList,r=(0,l.useState)("normal"),s=(0,o.Z)(r,2),a=s[0],u=s[1];return(0,c.jsxs)("div",{"className":"emoji-content-box ".concat(n),"children":[(0,c.jsx)("div",{"className":"menu-list","children":i.map((function(e,n){var t=e.type,i=e.identity,o=e.url;return(0,c.jsx)("div",{"className":a==i?"menu-item menu-item-hover":"menu-item","onClick":function onClick(){!function changeSelectType(e){var n=e.identity;a!==n&&u(n)}(e)},"children":"img"===t?(0,c.jsx)("img",{"className":"menu-item-img","src":o,"alt":i}):o},n)}))}),(0,c.jsx)("div",{"className":"emoji-list-box","children":i.map((function(e,n){var i=e.icons,o=e.identity,l=e.type;return(0,c.jsx)("div",{"className":o==a?"emoji-classify-item classify-selected":"emoji-classify-item","id":l,"children":i.map((function(e,n){var i=e.url;return(0,c.jsx)("div",{"className":"select-item","onClick":function onClick(){!function emojiClickHandle(e){t&&t(e)}(e)},"children":"img"===l?(0,c.jsx)("img",{"className":"select-item-img","src":i}):i},n)}))},n)}))})]})}var u=t(5671),d=t(3144),h=t(4942),m=function None(){},v=function(){function Cursor(e){(0,u.Z)(this,Cursor),(0,h.Z)(this,"containerEl",void 0),(0,h.Z)(this,"cursorEl",void 0),(0,h.Z)(this,"pollyfil",void 0),(0,h.Z)(this,"isMount",void 0);var n=document.querySelector(".cursor");n?(this.isMount=!0,this.cursorEl=n):this.cursorEl=this.createCursor(),this.pollyfil=this.createPollyfil(),this.containerEl=e}return(0,d.Z)(Cursor,[{"key":"createPollyfil","value":function createPollyfil(){var e=document.createElement("span");return e.style.display="inline-block",e.style.height="1em",e.setAttribute("isPollyfil",""),e}},{"key":"mountePollyfil","value":function mountePollyfil(){var e;this.isMount&&(null===(e=this.cursorEl.parentNode)||void 0===e||e.insertBefore(this.pollyfil,this.cursorEl))}},{"key":"createCursor","value":function createCursor(){!function initCursorStyles(){var e="editor-box-cursor-css";if(document.querySelectorAll("#".concat(e)).length>0)return;var n=document.createElement("style");n.id=e,n.textContent="\n  @keyframes cursor-blinks {\n    0% {\n      opacity: 1;\n      display: block;\n    }\n    50% {\n      opacity: 0;\n      display: none;\n    }\n    100% {\n      opacity: 1;\n      display: block;\n    }\n  }\n  .cursor {\n    width: 0;\n    overflow: visible;\n    position: relative;\n    pointer-events: none;\n    -webkit-user-select: none; /* Chrome, Safari, Opera */\n    -khtml-user-select: none; /* Konqueror */\n    -moz-user-select: none; /* Firefox */\n    -ms-user-select: none; /* Internet Explorer/Edge */ \n    user-select: none;\n  }\n  .cursor .line {\n    display: inline-block;\n    position: absolute;\n    pointer-events: none;\n    width: 0.1em;\n    height: 100%;\n    min-height: 1em;\n    background: #000;\n    left: 0;\n    top: 50%;\n    transform: translate(0, -50%);\n    animation: cursor-blinks 1.5s infinite steps(1, start);\n    -webkit-user-select: none; /* Chrome, Safari, Opera */\n    -khtml-user-select: none; /* Konqueror */\n    -moz-user-select: none; /* Firefox */\n    -ms-user-select: none; /* Internet Explorer/Edge */ \n    user-select: none;\n  }\n  ",document.head.appendChild(n)}();var e=document.createElement("span");e.className="cursor";var n=document.createElement("span");return n.className="line",e.appendChild(n),e.contentEditable="false",e}},{"key":"getCursor","value":function getCursor(){return this.cursorEl}},{"key":"mounted","value":function mounted(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.containerEl){this.isMount&&!e||insertAfter(this.cursorEl,this.containerEl,!0),this.isMount=!0;var n=this.containerEl.children||[];n.length<2&&this.mountePollyfil()}}},{"key":"unmounted","value":function unmounted(){var e;null===(e=this.cursorEl.parentNode)||void 0===e||e.removeChild(this.cursorEl),this.isMount=!1}},{"key":"focus","value":function focus(){var e;this.isMount?null===(e=this.cursorEl.parentElement)||void 0===e||e.focus():this.containerEl&&(this.mounted(),this.containerEl.focus())}},{"key":"insertText","value":function insertText(e,n){if(!n){if(!this.isMount)return;n=this.cursorEl}this.insertEl(function translateElement(e){var n=document.createDocumentFragment();return e.split("").map((function(e){var t=document.createElement("span");t.textContent=e,t.className="txt",n.appendChild(t)})),n}(e),n)}},{"key":"insertEl","value":function insertEl(e,n){var t;if(!n){if(!this.isMount)return;n=this.cursorEl}null===(t=n.parentNode)||void 0===t||t.insertBefore(e,n)}},{"key":"delEl","value":function delEl(){var e,n=this.cursorEl,t=window.getSelection();if(!t||!t.toString()||null!==(e=t.anchorNode)&&void 0!==e&&e.isSameNode(t.focusNode)){var i,o=n.previousElementSibling;if(o)null===(i=n.parentNode)||void 0===i||i.removeChild(o);return o}var l=function deleteSelectedNode(e){var n=function getSelectedElements(e){var n=[],t=window.getSelection();if(t){var i=t.rangeCount,o=e||document.querySelector('[contentEditable="true"]');if(!o)return n;for(var l=0;l<i;l++){var r=t.getRangeAt(l).commonAncestorContainer;if(3===r.nodeType&&(r=r.parentNode),r===o)for(var s=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{"acceptNode":function acceptNode(e){var n=window.getSelection();return n&&n.containsNode(e,!0)?e.classList.contains("cursor")||e.classList.contains("line")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});s.nextNode();)n.push(s.currentNode)}}return n}(e);return n.map((function(n){try{e.removeChild(n)}catch(e){console.warn(e,n,"该节点移除失败")}})),n}(this.containerEl);return t.collapseToEnd(),l}}]),Cursor}(),f=function(){function EditorHandle(e){var n,t=this;(0,u.Z)(this,EditorHandle),(0,h.Z)(this,"el",void 0),(0,h.Z)(this,"cursorHandle",void 0),(0,h.Z)(this,"changeCallBack",void 0),(0,h.Z)(this,"onKeyBoardInput",void 0),(0,h.Z)(this,"initStatu",void 0),(0,h.Z)(this,"enableKeyBoard",void 0),(0,h.Z)(this,"autoInput",void 0),(0,h.Z)(this,"compositionContext",{"status":!1,"content":""}),(0,h.Z)(this,"beforeInputHandle",(function(e){var n=e.data||"";return t.autoInput&&(t.cursorHandle.insertText(n),t.changeCallBack(n)),t.onKeyBoardInput(n),e.preventDefault(),!1})),this.beforeInputHandle=this.beforeInputHandle.bind(this),this.keyupFn=this.keyupFn.bind(this),this.initTextClickFn=this.initTextClickFn.bind(this),this.copyHandle=this.copyHandle.bind(this),this.pastedHandle=this.pastedHandle.bind(this),this.cutHandle=this.cutHandle.bind(this),this.selectionchangeHandle=this.selectionchangeHandle.bind(this),this.el=e.el,this.cursorHandle=new v(e.el),this.changeCallBack=e.onChange||m,this.onKeyBoardInput=e.onInput||m,this.autoInput=null===(n=e.autoInput)||void 0===n||n,this.init(),this.enableKeyBoardModel(e.enableKeyBoard)}return(0,d.Z)(EditorHandle,[{"key":"initTextClickFn","value":function initTextClickFn(e){var n=e.target;if(n){var t,i=this.cursorHandle.isMount;if(!i&&null!==(t=this.el)&&void 0!==t&&t.isSameNode(n))this.cursorHandle.mounted(!0);else if(i){var o=window.getSelection(),l=this.cursorHandle.cursorEl;if(this.enableKeyBoard&&o&&"Caret"===o.type){var r;if(null!==(r=this.el)&&void 0!==r&&r.contains(o.anchorNode)){var s=function getCursorPrevNode(e){var n=window.getSelection();if(!n)return null;var t=n.anchorNode,i=n.anchorOffset;if(!e)return null;if(!t)return null;var o,l=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{"acceptNode":function acceptNode(e){return e.classList.contains("cursor")||e.classList.contains("line")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});for(;l.nextNode();)if(!(o=l.currentNode).hasAttribute("ispollyfil")&&(l.currentNode===t.parentNode)){0===i&&(1,o=l.previousNode());break}return o}(this.el);s&&insertAfter(l,s)}else this.el&&insertAfter(l,this.el,!0)}else{var a,c=n.previousSibling,u=null===(a=this.el)||void 0===a?void 0:a.contains(c);c&&u?insertAfter(l,c):insertAfter(l,n,!0)}}}}},{"key":"keyupFn","value":function keyupFn(e){switch(e.key){case"Backspace":e.preventDefault(),this.changeCallBack(this.cursorHandle.delEl());break;case"Enter":e.preventDefault(),this.cursorHandle.insertEl(document.createElement("br")),this.cursorHandle.mountePollyfil()}}},{"key":"copyHandle","value":function copyHandle(e){}},{"key":"pastedHandle","value":function pastedHandle(e){e.preventDefault();var n=e.clipboardData.getData("text/plain"),t=window.getSelection();if(t&&t.toString()){var i=this.cursorHandle.delEl();this.changeCallBack(i)}this.insertText(n)}},{"key":"cutHandle","value":function cutHandle(e){var n;e.preventDefault();var t=(null===(n=window.getSelection())||void 0===n?void 0:n.toString())||"",i=this.cursorHandle.delEl();!function copyTextToClipboard(e){return new Promise((function(n,t){if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).then(n).catch(t);else{var i=document.createElement("textarea");i.value=e,i.style.position="fixed",document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy"),n()}catch(e){t(e)}finally{document.body.removeChild(i)}}}))}(t),this.cursorHandle.focus(),this.changeCallBack(i)}},{"key":"selectionchangeHandle","value":function selectionchangeHandle(e){if(this.cursorHandle.isMount){var n=window.getSelection();if(n&&"Range"===n.type){var t=[n.anchorNode,n.focusNode];n.focusOffset<n.anchorOffset&&t.reverse();var i=t[1];if(i&&!i.isSameNode(this.el)){for(;i.parentNode&&(null===(o=i.parentNode)||void 0===o||!o.isSameNode(this.el));){var o,l;i=null===(l=i)||void 0===l?void 0:l.parentNode}insertAfter(this.cursorHandle.cursorEl,i)}}}}},{"key":"init","value":function init(){this.el&&(this.el.addEventListener("beforeinput",this.beforeInputHandle),this.el.addEventListener("keyup",this.keyupFn),this.el.addEventListener("click",this.initTextClickFn),this.el.addEventListener("copy",this.copyHandle),this.el.addEventListener("paste",this.pastedHandle),this.el.addEventListener("cut",this.cutHandle),document.addEventListener("selectionchange",this.selectionchangeHandle),this.initStatu="ok")}},{"key":"enableKeyBoardModel","value":function enableKeyBoardModel(){var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enableKeyBoard!==n&&(this.enableKeyBoard=n,null===(e=this.el)||void 0===e||e.setAttribute("contentEditable","".concat(n)))}},{"key":"showCursor","value":function showCursor(){this.cursorHandle.mounted()}},{"key":"focus","value":function focus(){this.cursorHandle.focus()}},{"key":"insertText","value":function insertText(e){this.cursorHandle.insertText(e),this.changeCallBack(e)}},{"key":"insertEl","value":function insertEl(e){this.cursorHandle.insertEl(e),this.changeCallBack(e)}},{"key":"getTextContetn","value":function getTextContetn(){var e;return(null===(e=this.el)||void 0===e?void 0:e.textContent)||""}},{"key":"destroy","value":function destroy(){var e,n,t,i,o,l;null===(e=this.el)||void 0===e||e.removeEventListener("beforeinput",this.beforeInputHandle),null===(n=this.el)||void 0===n||n.removeEventListener("click",this.initTextClickFn),null===(t=this.el)||void 0===t||t.removeEventListener("keyup",this.keyupFn),null===(i=this.el)||void 0===i||i.removeEventListener("copy",this.copyHandle),null===(o=this.el)||void 0===o||o.removeEventListener("paste",this.pastedHandle),null===(l=this.el)||void 0===l||l.removeEventListener("cut",this.cutHandle),document.removeEventListener("selectionchange",this.selectionchangeHandle)}}]),EditorHandle}();function insertAfter(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t?n:n.parentNode;if(i){var o=document.querySelectorAll(".cursor")||[];o.forEach((function(e){try{i.removeChild(e)}catch(e){console.log("Deletion failed, they have no parent-child relationship")}})),t||i.lastChild==n?i.appendChild(e):i.insertBefore(e,n.nextSibling)}}var p={"input-text-box-base":"index-module__input-text-box-base___eCvjJ","input-text-box-2":"index-module__input-text-box-2___qwP39","input-text-box-1":"index-module__input-text-box-1___Hk_N1","bottom-input-box":"index-module__bottom-input-box___CZkDl","honor-view":"index-module__honor-view___Tfa0l","emoji-btn":"index-module__emoji-btn___CQZF2","emoji-icon":"index-module__emoji-icon___Ryfh1","send-icon":"index-module__send-icon___WTWkC","tool-box":"index-module__tool-box___kAt5c","tool-header":"index-module__tool-header___piYdP"},C=["type"];function EmojiInputBox(e,n){var t=e.type,i=_objectWithoutProperties(e,C);return 1===t?(0,c.jsx)(E,(0,r.Z)({"ref":n},i)):(0,c.jsx)(b,(0,r.Z)({"ref":n},i))}var y=(0,l.forwardRef)(EmojiInputBox),x=function useCommonHandle(e,n,t){var i=e.onChange,r=e.sendHandle,s=e.onInput,a=(0,l.useState)(!1),c=(0,o.Z)(a,2),u=c[0],d=c[1],h=(0,l.useRef)(null),m=(0,l.useRef)(null),v=(0,l.useCallback)((function(){var e=C();t&&t(e),i&&i(e)}),[t,i]),p=(0,l.useCallback)((function(e){s&&s(e)}),[s]);(0,l.useImperativeHandle)(n,(function(){return{"hiddenEmojiList":function hiddenEmojiList(){d(!1)},"blur":function blur(){var e;d(!1),null===(e=m.current)||void 0===e||e.cursorHandle.unmounted()}}})),(0,l.useEffect)((function(){return h.current&&(m.current=new f({"el":h.current,"enableKeyBoard":!0,"autoInput":!0,"onChange":v,"onInput":function onInput(e){p(e)}})),function(){var e;null===(e=m.current)||void 0===e||e.destroy(),m.current=null}}),[v,p]);var C=function getInputText(){var e;return(null===(e=m.current)||void 0===e?void 0:e.getTextContetn())||""};return{"divRef":h,"showEmoji":u,"sendClickHandle":function sendClickHandle(){r&&r()},"showEmojiHandle":function showEmojiHandle(){var e,n;d(!0),null===(e=m.current)||void 0===e||e.enableKeyBoardModel(!1),null===(n=m.current)||void 0===n||n.showCursor()},"hidenEmojiHandle":function hidenEmojiHandle(){var e,n;null===(e=m.current)||void 0===e||e.enableKeyBoardModel(),null===(n=m.current)||void 0===n||n.focus(),d(!1)},"insetTextHandle":function insetTextHandle(e){var n,t=e.iconName;null===(n=m.current)||void 0===n||n.insertText(t)},"getInputText":C}},E=(0,l.memo)((0,l.forwardRef)((function(e,n){var t=e.className,i=e.emojiList,r=void 0===i?[]:i,u=(0,l.useState)(!1),d=(0,o.Z)(u,2),h=d[0],m=d[1],v=(0,l.useCallback)((function(e){e&&!h?m(!0):!e&&h&&m(!1)}),[h]),f=x(e,n,v),C=f.divRef,y=f.showEmoji,E=f.sendClickHandle,b=f.showEmojiHandle,j=f.hidenEmojiHandle,k=f.insetTextHandle,g=(0,l.useMemo)((function(){return[p["input-text-box-1"],t].join(" ")}),[t]);return(0,c.jsxs)("div",{"className":p["bottom-input-box"],"children":[(0,c.jsxs)("div",{"className":p["honor-view"],"children":[(0,c.jsx)("div",{"ref":C,"className":g}),(0,c.jsx)("div",{"className":p["emoji-btn"],"children":y?(0,c.jsx)(s,{"className":p["emoji-icon"],"onClick":j}):(0,c.jsx)(a,{"className":p["emoji-icon"],"onClick":b})}),h&&(0,c.jsx)("div",{"className":p["send-icon"],"onClick":E,"children":"发送"})]}),(0,c.jsx)("div",{"children":y&&(0,c.jsx)(EmojiViewer,{"emojiList":r,"onEmojiClick":k})})]})}))),b=(0,l.memo)((0,l.forwardRef)((function(e,n){var t=e.className,i=e.emojiList,r=void 0===i?[]:i,s=(0,l.useMemo)((function(){return[p["input-text-box-2"],t].join(" ")}),[t]),a=(0,l.useState)(!1),u=(0,o.Z)(a,2),d=u[0],h=u[1],m=x(e,n,(function changePathch(e){})),v=m.divRef,f=m.showEmoji,C=(m.sendClickHandle,m.showEmojiHandle),y=m.hidenEmojiHandle,E=m.insetTextHandle;return(0,c.jsxs)("div",{"children":[(0,c.jsx)("div",{"children":(0,c.jsx)("div",{"ref":v,"onFocus":function showToolBarHandle(){h(!0)},"className":s})}),(0,c.jsxs)("div",{"className":p["tool-box"],"children":[d&&(0,c.jsxs)("div",{"className":p["tool-header"],"children":[(0,c.jsx)("div",{"className":p["emoji-btn"],"children":f?(0,c.jsx)("span",{"onClick":y,"children":"打开键盘"}):(0,c.jsx)("span",{"onClick":C,"children":"打开表情"})}),(0,c.jsx)("div",{"children":(0,c.jsx)("span",{"children":"工具2"})})]}),f&&(0,c.jsx)(EmojiViewer,{"emojiList":r,"onEmojiClick":E})]})]})})));var j=[{"identity":"normal","type":"emoji","url":"😀","icons":[{"type":"emoji","url":"😀","iconName":"努力","text":"努力哦~"},{"type":"emoji","url":"😄","iconName":"惊讶","text":"惊讶~"},{"type":"emoji","url":"🙃","iconName":"开心","text":"开心的一天"},{"type":"emoji","url":"😅","iconName":"哭笑","text":"哭笑"},{"type":"emoji","url":"🤣","iconName":"难过","text":"有点难过"},{"type":"emoji","url":"😍","iconName":"生气","text":"生气了"},{"type":"emoji","url":"😁","iconName":"躺平","text":"躺平"},{"type":"emoji","url":"😆","iconName":"喜欢","text":"好喜欢~"}]},{"identity":"unnormal","type":"emoji","url":"😍","icons":[{"type":"url","url":"😁","iconName":"喜欢","text":"好喜欢~"}]}];var k=function EmojiView(e){return(0,c.jsxs)(i.G7,{"children":[(0,c.jsx)(i.G7,{"children":"EmojiView"}),(0,c.jsx)(g,{})]})},g=function ComomInput(e){var n=e.onSend,t=e.onBlur,r=(0,l.useState)(""),s=(0,o.Z)(r,2),a=s[0],u=s[1],d=(0,l.useRef)(null),h=(0,l.useRef)(null),m=(0,l.useCallback)((function(){}),[]),v=(0,l.useCallback)((function(e){u(e)}),[]);return function useClickOutside(e,n){var t=function handleClickOutside(t){var i;null!=e&&null!==(i=e.current)&&void 0!==i&&i.contains(t.target)||n()};(0,l.useEffect)((function(){return document.addEventListener("mousedown",t),function(){return document.removeEventListener("mousedown",t)}}))}(d,(function(){var e;null===(e=h.current)||void 0===e||e.blur(),t&&t()})),(0,c.jsx)(i.G7,{"ref":d,"children":(0,c.jsx)(y,{"ref":h,"emojiList":j,"type":1,"closeHandle":m,"onChange":v,"sendHandle":function sendHan(){n&&n(a)}})})},N=function Index(e){return(0,c.jsxs)(i.G7,{"children":[(0,c.jsx)(i.G7,{"children":"Index"}),(0,c.jsx)(k,{})]})}}}]);